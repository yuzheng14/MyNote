# 第3章 线性表

## 3.2 线性表的定义

**线性表（List）：零个或多个数据元素的有限序列。**

关键点：

- 数据元素之间是有顺序的。若元素存在多个，则第一个元素无前驱，最后一个元素无后驱。
- 线性表中的元素个数是有限的。

如果用数学语言来进行定义，可表述如下：

>若将线性表记为（![][a-sequence]），则表中![][a-i-1]领先于![][a-i]，![][a-i]领先于![][a-i+1]，称![][a-i-1]是![][a-i]的**直接前驱元素**，![][a-i+1]是![][a-i]的**直接后继元素**。当![][i=seqn-1]时，![][a-i]有且仅有一个直接后继，当![][i=seqn]时，![][a-i]有且只有一个直接前驱。

所以线性表元素的个数![][nn\geq 0]定义为线性表的长度，当![][n=0]时，称为**空表**。

在非空表中的每个数据元素都有一个确定的位置，若![][a-i]是第![][i]个元素，称![][i]为数据元素![][a-i]在线性表中的**位序**。

在较复杂的线性表中，一个数据元素可以由若干个数据项组成。

线性表的抽象数据类型定义如下：

```c
ADT 线性表(List)
Data
	线性表的数据对象集合为{ ![][aseq] }，每个元素的类型均为DataType。其中，除第一个元素![][a1]外，每一个元素有且只有一个直接前驱元素，除了最后一个元素![][an]外，每一个元素有且只有一个直接后继元素。数据元素之间的关系是一对一的关系。
Operation
	InitList(*L):初始化操作，建立一个空的线性表L。
	ListEmpty(L):若线性表为空，返回true，否则返回false。
	ClearList(*L):将线性表清空。
	GetElem(L,i,*e):将线性表L中的第i个位置元素之返回给e。
	LocateElem(L,e):在线性表L中查找与给定值e相等的元素，如果查找成功，返回该元素在表中序号表示成功；否则，返回0表示失败。
	ListInsert(*L,i,e):在线性表L中的第i个位置插入新元素e。
	ListDelete(*L,i,*e):删除线性表中第i个位置元素，并用e返回其值。
	ListLength(L):返回线性表L的元素个数。
endADT
```

## 3.4 线性表的顺序存储结构

### 3.4.1 顺序存储定义

**线性表的顺序存储结构，指的是用一段地址连续的存储单元一次存储线性表的数据元素。**

### 3.4.2 顺序存储方式

使用一维数组来实现顺序存储结构。

顺序存储的结构代码：

```c
#define MAXSIZE 20		//存储空间初始分配量
typedef int ElemType		//ElemType类型根据实际情况而定，这里为int
typedef struct
{
	ElemType data[MAXSIZE];	//数组，存储数据元素
	int length;		//线性表当前长度
}SqList
```

描述顺序存储结构需要三个属性：

- 存储空间的起始位置：数组data，他的存储位置就是存储空间的存储位置。
- 线性表的最大存储容量：数组长度MAXISZE
- 线性表的当前长度：length

### 3.4.3 数据长度与线性表长度的区别

线性表的长度是线性表中数据元素的个数，随着线性表插入和删除操作，这个量是变化的。在任意时刻，线性表的长度应该小于等于数组的长度。

### 3.4.4 地址计算方法

线性表的下标从1开始

存储器中的每个存储单元都有自己的编号，这个编号称为地址。

假设占用的是c个存储单元，那么线性表中第i+1个数据元素的存储位置和第i个数据元素的存储位置满足以下关系（LOC表示获得存储位置的函数）

![][LOCai+1ai]

所以对于第i个数据元素![][a-i]的存储位置可以由![][a-1]推算得出

![][LOCa-ia-1]

通过这个公式，我们可以随时算出线性表中任意位置的地址，不管它是第一个还是最后一个，都是相同的时间。那么我们对于每个线性表位置的存入或者取出数据，对于计算机来说都是相等的时间，也就是一个常数，因此用我们算法中学到的时间复杂度的概念来说，他的存取性能时间为![][O1]。我们通常把举要这一特点的存储结构称为随机存储结构。



[O1]:https://math.jianshu.com/math?formula=O%281%29
[LOCa-ia-1]:https://math.jianshu.com/math?formula=LOC%28a_i%29%3DLOC%28a_1%29%2B%28i-1%29%5Ctimes%20c
[a-1]:https://math.jianshu.com/math?formula=a_1
[LOCai+1ai]:https://math.jianshu.com/math?formula=LOC%28a_%7Bi%2B1%7D%29%3DLOC%28a_i%29%2Bc
[a-sequence]:https://math.jianshu.com/math?formula=a_1%2C%5Ccdots%20a_%28i-1%29%2Ca_i%2Ca_%28i%2B1%29%2C%5Ccdots%20a_n
[a-i-1]:https://math.jianshu.com/math?formula=a_%28i-1%29
[a-i]:https://math.jianshu.com/math?formula=a_i
[a-i+1]:https://math.jianshu.com/math?formula=a_%28i%2B1%29
[i=seqn-1]:https://math.jianshu.com/math?formula=i%3D1%2C2%2C%5Ccdots%20%2Cn-1
[i=seqn]:https://math.jianshu.com/math?formula=i%3D1%2C2%2C%5Ccdots%20%2Cn
[nn\geq 0]:https://math.jianshu.com/math?formula=n%28n%5Cgeq%200%29
[n=0]:https://math.jianshu.com/math?formula=n%3D0
[i]:https://math.jianshu.com/math?formula=i
[aseq]:https://math.jianshu.com/math?formula=a_1%2Ca_2%2C%5Ccdots%20%2Ca_n
[a1]:https://math.jianshu.com/math?formula=a_1
[an]:https://math.jianshu.com/math?formula=a_n
