## 核心技术

> 版本 5.3.17

本部分参考文档覆盖了 Spring 框架集成的所有技术。

这些技术里最重要的就是就是 Spring 框架的控制反转（IoC）容器。在全面论述 Spring 框架的 IoC 容器之后，会全面介绍 Spring 的面向切面编程（AOP）技术。Spring 框架有自己的 AOP 框架，易于理解，成功解决了 Java 企业级编程中 AOP 所需的 80% 的功能。

Spring 也集成了 AspectJ，一个目前特性最丰富并且Java 企业空间中最成熟的 AOP 实现。

## 1. IoC 容器

本章节包含了 Spring 的控制反转（IoC）容器。

### 1.1. Spring IoC 容器和 Bean 导入

本部分包括了 Spring 框架实现 IoC 容器的原则。 IoC 又称依赖注入（DI）。这是一个对象仅通过构造器参数、工厂方法参数或者在构造或从工厂方法中返回后在对象实例上设置的属性，定义其依赖（即它使用的其他对象）的过程。之后 IoC 容器创建 bean 的时候会注入那些依赖。这个过程完全反转（正如其名，控制反转）了 bean 自己通过使用类的直接构造器或如服务定位模式（Service Locator pattern）的机制控制依赖的实例化或位置。

Spring 框架的 IoC 容器的基础是包 `org.springframework.bean` 和 `org.springframework.context` 。`BeanFactory` 接口提供了一个高级配置机制，可用于管理任何类型的对象。`ApplicationContext` 是`BeanFactory`的子接口。它添加了以下特性：

- 更容易与 Spring AOP 特性集成。
- 信息资源处理（供国际化使用）
- 事务公开（event publication）
- 特定用于应用层的上下文，如用于网络应用的`WebApplicationContext`

简而言之，`BeanFactory` 提供了配置框架和基本功能，并且 `ApplicationContext` 添加了更多企业特定的功能。`ApplicationContext` 是 ` BeanFactory` 的超集，并且只用在本章节的 Spring IoC 容器部分。欲知使用 `BeanFactory` 而不是 `ApplicationContext` 的更多细节，请参阅 [The `BeanFactory`](https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-beanfactory)。

在 Spring 框架中，组成应用的主干和由 Spring IoC 容器管理的对象称为 bean。bean 是由 Spring Ioc 容器实例化、组装和管理的对象。另外，bean 只是应用中许多对象中的一个。容器使用的配置元数据反应了 bean 及其依赖。

### 1.2. 容器概论

`org.springframework.context.ApplicationContext` 接口代表了 Spring IoC 容器，并负责实例化、配置和组装 bean。容器读取配置元数据，获取实例化、配置和组装哪个对象的指令。配置元数据可以是 XML，Java 注解，或者 Java 代码。它允许你表达组成你的应用的对象和这些对象之间丰富的互相依赖。
